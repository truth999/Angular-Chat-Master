<div class="multi-level-dropdown">
    <span class="multi-level-dropdown__button"
        [ngClass]="{
            'multi-level-dropdown__button--danger': status=='NOT_READY',
            'multi-level-dropdown__button--warning': status=='MODE_WRAPUP',
            'multi-level-dropdown__button--gray': status=='OUT_OF_SERVICE',
            'multi-level-dropdown__button--clicked': isShow }"
        (click)="showMenu()" (mouseenter)="hoverStatus()" (mouseleave)="hoveroutStatus()">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
            *ngIf="type=='voice'">
            <path   
                d="M15.0853 10.4002L11.9484 9.00823C11.3104 8.72601 10.5624 8.90726 10.1244 9.45021L9.17742 10.6352C7.6428 9.6589 6.3412 8.35765 5.36451 6.8233L6.54848 5.87733C7.09341 5.43978 7.27565 4.6903 6.99247 4.05139L5.5995 0.914494C5.2939 0.22641 4.53532 -0.139548 3.80654 0.0495228L1.1546 0.7385C0.397357 0.936317 -0.0923411 1.66914 0.0146296 2.44444C1.02333 9.463 6.53762 14.9768 13.5563 15.985C13.6266 15.9949 13.6974 15.9999 13.7683 16C14.4705 15.9996 15.0839 15.5254 15.2613 14.846L15.9493 12.1931C16.1411 11.4644 15.7748 10.7042 15.0853 10.4002Z"
                fill="#FFFFFF" />
        </svg>
        <svg width="17px" height="17px" viewBox="0 0 17 17" version="1.1"
            *ngIf="type=='chat'">
            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="UI-Kit_C1" transform="translate(-2690.000000, -827.000000)" fill="#FFFFFF" fill-rule="nonzero">
                    <path
                        d="M2704.93747,840.496228 L2703.92865,837.560332 C2704.41493,836.566275 2704.67191,835.460743 2704.67364,834.348392 C2704.67662,832.414253 2703.92831,830.585484 2702.56651,829.198989 C2701.20444,827.812188 2699.38941,827.031585 2697.45571,827.000951 C2695.4506,826.969232 2693.56588,827.731923 2692.14896,829.148814 C2690.73203,830.56574 2689.9692,832.450417 2690.00095,834.455627 C2690.03159,836.389291 2690.81219,838.204355 2692.19893,839.566424 C2693.58271,840.925576 2695.40683,841.67368 2697.33684,841.673612 C2697.34064,841.673612 2697.34464,841.673612 2697.34837,841.673612 C2698.46076,841.671882 2699.56629,841.414904 2700.56035,840.92863 L2703.49632,841.937477 C2703.61865,841.97951 2703.7441,842 2703.8681,842 C2704.16283,842 2704.44943,841.88425 2704.66685,841.666793 C2704.97574,841.357877 2705.07941,840.909394 2704.93747,840.496228 Z M2694.6875,831.687493 L2700.3125,831.687493 C2700.83027,831.687493 2701.25,832.107225 2701.25,832.624991 C2701.25,833.142757 2700.83027,833.56249 2700.3125,833.56249 L2694.6875,833.56249 C2694.16973,833.56249 2693.75,833.142757 2693.75,832.624991 C2693.75,832.107225 2694.16973,831.687493 2694.6875,831.687493 Z M2694.6875,835.437487 L2700.3125,835.437487 C2700.83027,835.437487 2701.25,835.857219 2701.25,836.374985 C2701.25,836.892752 2700.83027,837.312484 2700.3125,837.312484 L2694.6875,837.312484 C2694.16973,837.312484 2693.75,836.892752 2693.75,836.374985 C2693.75,835.857219 2694.16973,835.437487 2694.6875,835.437487 Z"
                        id="chat_red-1"></path>
                </g>
            </g>
        </svg>
        <svg width="16" height="14" viewBox="0 0 16 14" fill="none"
            *ngIf="type=='email'">
            <path fill-rule="evenodd" clip-rule="evenodd"
                d="M1 0H15C15.6 0 16 0.4 16 1V2.5L8 6.9L0 2.4V1C0 0.4 0.4 0 1 0ZM0 4.7L7.5 8.9C7.78 9.04 8.22 9.04 8.5 8.9L16 4.7V13C16 13.6 15.6 14 15 14H1C0.4 14 0 13.6 0 13V4.7Z"
                fill="#FFFFFF" />
        </svg>
        
        <!-- <span *ngIf="firstStatusFlag" class="multi-level-dropdown__timer">{{ 'not_ready' | translate }}</span> -->
        <span 
            [ngClass]="{'multi-level-dropdown__timer':status=='NOT_READY' || status == 'MODE_WRAPUP'}">{{ (status=='NOT_READY' || status == 'MODE_WRAPUP') ? (timer | formatTime) : statusLabel }}</span>
        <svg width="15" height="9" viewBox="0 0 15 9" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path opacity="0.6" d="M1.5 1.31372L7.5 7.31372L13.5 1.31372" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <!-- <svg *ngIf="status!='not-ready' && !hover" width="14" height="8" viewBox="0 0 12 7" fill="none">
            <path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <svg *ngIf="status!='not-ready' && hover" width="14" height="8" viewBox="0 0 12 7" fill="none">
            <path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <svg *ngIf="status=='not-ready' && !hover" width="14" height="8" viewBox="0 0 12 7" fill="none">
            <path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <svg *ngIf="status=='not-ready' && hover" width="14" height="8" viewBox="0 0 12 7" fill="none">
            <path d="M1 1L6 6L11 1" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>-->
    </span>

    <ul class="" *ngIf="isShow">
        <li class="multi-level-dropdown__status" *ngFor="let subMenuItem of submenu" 
        [ngClass] = "{
            'multi-level-dropdown__danger':subMenuItem.action == 'NOT_READY',
            'multi-level-dropdown__warning':subMenuItem.action == 'MODE_WRAPUP',
            'multi-level-dropdown__gray':subMenuItem.action == 'OUT_OF_SERVICE'
        }" (click)="doAction(subMenuItem)">
            <span>{{ subMenuItem.label | translate }}</span>
            <span *ngIf="subMenuItem.sub_list.length > 0">
                <svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.6" d="M1 9L5 5L1 1" stroke="#6D8790" stroke-width="1.5" stroke-linecap="round"
                        stroke-linejoin="round" />
                </svg>
            </span>
            <ul *ngIf="subMenuItem.sub_list.length > 0" [ngClass]="{'right': type == 'chat'}">
                <li class="multi-level-dropdown__status" *ngFor="let secondMenuItem of subMenuItem.sub_list" 
                [ngClass] = "{
                    'multi-level-dropdown__danger':subMenuItem.action == 'NOT_READY',
                    'multi-level-dropdown__warning':subMenuItem.action == 'MODE_WRAPUP',
                    'multi-level-dropdown__gray':subMenuItem.action == 'OUT_OF_SERVICE'
                }" (click)="doAction(secondMenuItem)">
                    <span>{{ secondMenuItem.label | translate }}</span>
                </li>        
            </ul>
        </li>
        <li (click)="newActionRequest()" class="multi-level-dropdown__action">
            <button class="multi-level-dropdown__status">
                <svg *ngIf="type=='voice'" width="15px" height="15px" viewBox="0 0 15 15">
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="UI-Kit_C1" transform="translate(-2727.000000, -792.000000)" fill="#459950"
                            fill-rule="nonzero">
                            <path
                                d="M2741.14246,801.750172 L2738.20159,800.445215 C2737.60349,800.180632 2736.90226,800.350556 2736.49163,800.859576 L2736.49163,800.859576 L2735.60383,801.970477 C2734.16513,801.055218 2732.94487,799.835298 2732.02923,798.396844 L2733.1392,797.509999 C2733.65007,797.099794 2733.82092,796.397155 2733.55544,795.79818 L2732.24954,792.857339 C2731.96303,792.212259 2731.25186,791.869173 2730.56864,792.046428 L2728.08244,792.692344 C2727.37252,792.877797 2726.91343,793.564817 2727.01372,794.291667 C2727.95937,800.87156 2733.12902,806.040774 2739.70906,806.985938 C2739.77489,806.995251 2739.84131,807 2739.9078,807 C2740.56608,806.999602 2741.14118,806.555083 2741.30746,805.91816 L2741.95244,803.431054 C2742.13232,802.747835 2741.78892,802.035207 2741.14246,801.750172 Z"
                                id="call_green-1"></path>
                        </g>
                    </g>
                </svg>
                <svg *ngIf="type=='chat'" width="15px" height="15px" viewBox="0 0 15 15">
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="UI-Kit_C1" transform="translate(-2690.000000, -791.000000)" fill="#459950"
                            fill-rule="nonzero">
                            <path
                                d="M2704.93747,804.496228 L2703.92865,801.560332 C2704.41493,800.566275 2704.67191,799.460743 2704.67364,798.348392 C2704.67662,796.414253 2703.92831,794.585484 2702.56651,793.198989 C2701.20444,791.812188 2699.38941,791.031585 2697.45571,791.000951 C2695.4506,790.969232 2693.56588,791.731923 2692.14896,793.148814 C2690.73203,794.56574 2689.9692,796.450417 2690.00095,798.455627 C2690.03159,800.389291 2690.81219,802.204355 2692.19893,803.566424 C2693.58271,804.925576 2695.40683,805.67368 2697.33684,805.673612 C2697.34064,805.673612 2697.34464,805.673612 2697.34837,805.673612 C2698.46076,805.671882 2699.56629,805.414904 2700.56035,804.92863 L2703.49632,805.937477 C2703.61865,805.97951 2703.7441,806 2703.8681,806 C2704.16283,806 2704.44943,805.88425 2704.66685,805.666793 C2704.97574,805.357877 2705.07941,804.909394 2704.93747,804.496228 Z M2694.6875,795.687493 L2700.3125,795.687493 C2700.83027,795.687493 2701.25,796.107225 2701.25,796.624991 C2701.25,797.142757 2700.83027,797.56249 2700.3125,797.56249 L2694.6875,797.56249 C2694.16973,797.56249 2693.75,797.142757 2693.75,796.624991 C2693.75,796.107225 2694.16973,795.687493 2694.6875,795.687493 Z M2694.6875,799.437487 L2700.3125,799.437487 C2700.83027,799.437487 2701.25,799.857219 2701.25,800.374985 C2701.25,800.892752 2700.83027,801.312484 2700.3125,801.312484 L2694.6875,801.312484 C2694.16973,801.312484 2693.75,800.892752 2693.75,800.374985 C2693.75,799.857219 2694.16973,799.437487 2694.6875,799.437487 Z"
                                id="chat_green-1"></path>
                        </g>
                    </g>
                </svg>
                <svg *ngIf="type=='email'" width="15px" height="15px" viewBox="0 0 14 12">
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="UI-Kit_C1" transform="translate(-2763.000000, -793.000000)" fill="#459950"
                            fill-rule="nonzero">
                            <path
                                d="M2777,797.028571 L2777,804.142857 C2777,804.657143 2776.65,805 2776.125,805 L2776.125,805 L2763.875,805 C2763.35,805 2763,804.657143 2763,804.142857 L2763,804.142857 L2763,797.028571 L2769.5625,800.628571 C2769.8075,800.748571 2770.1925,800.748571 2770.4375,800.628571 L2770.4375,800.628571 L2777,797.028571 Z M2776.125,793 C2776.65,793 2777,793.342857 2777,793.857143 L2777,793.857143 L2777,795.142857 L2770,798.914286 L2763,795.057143 L2763,793.857143 C2763,793.342857 2763.35,793 2763.875,793 L2763.875,793 Z"
                                id="email_green-1"></path>
                        </g>
                    </g>
                </svg>
                <span>New {{type | translate }}</span>
            </button>
        </li>
    </ul>
</div>